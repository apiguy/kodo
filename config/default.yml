---
daemon:
  port: 7377
  heartbeat_interval: 60
  pulse_interval: 3600       # seconds between idle pulse evaluations (default: 1 hour)

llm:
  # Any model supported by your configured providers
  # Examples: claude-sonnet-4-6, gpt-4o, gemini-2.5-pro, llama3:8b
  model: claude-sonnet-4-6

  # Optional: a small, fast model for utility tasks (e.g. sensitive data detection).
  # Falls back to the main model if not set.
  # utility_model: claude-haiku-4-5-20251001

  # Add API keys for any providers you want to use.
  # Only configure the ones you need — Kodo won't complain about the rest.
  providers:
    anthropic:
      api_key_env: ANTHROPIC_API_KEY
    # openai:
    #   api_key_env: OPENAI_API_KEY
    # gemini:
    #   api_key_env: GEMINI_API_KEY
    # deepseek:
    #   api_key_env: DEEPSEEK_API_KEY
    # mistral:
    #   api_key_env: MISTRAL_API_KEY
    # openrouter:
    #   api_key_env: OPENROUTER_API_KEY
    # ollama:
    #   api_base: http://localhost:11434  # no API key needed

channels:
  telegram:
    enabled: false
    bot_token_env: TELEGRAM_BOT_TOKEN

# Web search — enables web_search and fetch_url tools.
# Disabled by default. Set provider to enable.
# search:
#   provider: tavily
#   providers:
#     tavily:
#       api_key_env: TAVILY_API_KEY

memory:
  encryption: false
  passphrase_env: KODO_PASSPHRASE
  store: file

logging:
  level: info
  audit: true

# Web security settings (applies to web_search, fetch_url, and browse_web tools)
web:
  fetch_url_enabled: true
  web_search_enabled: true
  injection_scan: true    # pre-screen fetched content and log suspicious signals
  audit_urls: true        # log full URL in audit (set false for privacy-sensitive deployments)
  fetch_blocklist: []     # e.g. ["pastebin.com", "*.pastebin.com"]
  fetch_allowlist: []     # if non-empty, only these domains are allowed
  ssrf_bypass_hosts: []   # DEV ONLY: skip SSRF checks for these hosts (e.g. ["localhost", "127.0.0.1"])

  # Real browser via playwright-cli (requires Node.js)
  # Install: npm install -g @playwright/cli && playwright-cli install chromium
  browser_enabled: false  # set true to enable the browse_web tool
  browser_timeout: 30     # seconds per browser action
  # browser_model: claude-haiku-4-5-20251001  # defaults to utility_model
  # browser_path: /usr/bin/chromium            # optional, auto-detected from PATH

# Autonomy — risk-classified action gating
# When enabled, every tool call is checked against a policy before execution.
# Levels: free (execute), notify (execute + log), propose (ask user first), never (refuse)
autonomy:
  enabled: false         # set true to enable autonomy gating
  posture: balanced      # balanced | conservative | autonomous
  # rules:               # custom rules override built-in defaults
  #   - action: fetch_url
  #     scope:
  #       url: "*.example.com"
  #     level: free
  #     reason: "Trusted internal domain"

# Agent identity — gives Kodo its own email and credentials
# agent:
#   name: Kodo
#   email: kodo@yourdomain.com
#   email_provider: smtp  # smtp, zoho, or gmail
